@if (shoppingListState$ | async; as state) {
  @if (state.loading) {
    <mat-spinner></mat-spinner>
  } @else if (state.data) {
    <mat-card>
      <mat-card-header>
        <mat-card-title>{{ state.data.name }}</mat-card-title>
        <mat-card-subtitle>Created: {{ state.data.created_at | date }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <mat-list>
          @for (item of state.data.items; track item.id) {
            <mat-list-item>
              <mat-checkbox [checked]="item.is_checked">
                {{ item.product_name }} - {{ item.quantity }} {{ item.unit }}
              </mat-checkbox>
            </mat-list-item>
          }
        </mat-list>
      </mat-card-content>
    </mat-card>
  } @else {
    <mat-card>
      <mat-card-content>
        <p>Shopping list not found</p>
      </mat-card-content>
    </mat-card>
  }
}
